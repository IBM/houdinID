var badgin=function(e){"use strict";let t=!1;const n=()=>{t||"ExperimentalBadge"in window||"setExperimentalAppBadge"in navigator||(console.warn("Badging API must be enabled. Please check here how you can enable it: https://developers.google.com/web/updates/2018/12/badging-api#use"),t=!0)},i={mediaQuery:null,value:0};function a(){return"ExperimentalBadge"in window&&!!window.ExperimentalBadge}function o(){return"setExperimentalAppBadge"in navigator&&!!navigator.setExperimentalAppBadge&&"clearExperimentalAppBadge"in navigator&&!!navigator.clearExperimentalAppBadge}function l(){return i.mediaQuery||(i.mediaQuery=window.matchMedia("(display-mode: standalone)"),i.mediaQuery.onchange=(e=>{r(i.value)})),i.mediaQuery.matches&&(a()||o())}function r(e){return i.value=e,l()?a()?(window.ExperimentalBadge.set(e),!0):!!o()&&(navigator.setExperimentalAppBadge(e),!0):(n(),!1)}function c(e,t){for(const n of Object.keys(t))t[n]instanceof Object&&Object.assign(t[n],c(e[n],t[n]));return Object.assign(e||{},t),e}function u(e){return void 0!==e&&Number.isInteger(e)&&e>=0}const d=()=>{const e=document.getElementsByTagName("link");for(let t=0;t<e.length;t++){const n=e[t];if(n.hasAttribute("href")&&(n.getAttribute("rel")||"").match(/\bicon\b/))return n}return null},s=Math.ceil(window.devicePixelRatio)||1,g=16*s,m={favicon:null,value:0,options:{backgroundColor:"#424242",color:"#ffffff",indicator:"!"}};let p=null,f=null,h=null,v=null;const b=e=>{if(!e)return;let t=d();for(;t&&t.parentNode;)t.parentNode.removeChild(t),t=d();const n=document.createElement("link");n.type="image/x-icon",n.rel="icon",n.href=e,document.getElementsByTagName("head")[0].appendChild(n)},w=(e,t)=>{f&&(f.onload=(()=>{f&&h&&(v.clearRect(0,0,g,g),v.drawImage(f,0,0,f.width,f.height,0,0,g,g),x(v,e,t),b(h.toDataURL()))}),p&&(p.href.match(/^data/)||(f.crossOrigin="anonymous"),f.src=p.href))},x=(e,t,n)=>{let i="";if(!(i=u(t)?0===t?"":t<100?String(t):"99+":n.indicator))return;const a=i.length-1,o=8*s+4*s*a,l=g-7*s,r=g-o-s,c=16*s,d=16*s,m=5*s;e.save(),e.globalAlpha=1,e.fillStyle=n.backgroundColor,e.strokeStyle=n.backgroundColor,e.lineWidth=s,e.beginPath(),e.moveTo(r+m,l),e.quadraticCurveTo(r,l,r,l+m),e.lineTo(r,c-m),e.quadraticCurveTo(r,c,r+m,c),e.lineTo(d-m,c),e.quadraticCurveTo(d,c,d,c-m),e.lineTo(d,l+m),e.quadraticCurveTo(d,l,d-m,l),e.closePath(),e.fill(),e.restore(),e.save(),e.font=`${7*s}px Arial`,e.fillStyle=n.color,e.textAlign="center",e.textBaseline="top",e.fillText(i,r+o/2+1,9*s+1),e.restore()};function B(){return p||(p=d(),f=document.createElement("img"),(h=document.createElement("canvas")).width=g,h.height=g,v=h.getContext?h.getContext("2d"):null),!!v&&!!p}const y={title:null,value:0,options:{indicator:"!"}};function E(e,t){return null===y.title&&(y.title=document.title,Object.defineProperty(document,"title",{get:()=>y.title,set:e=>{y.title=e,function(e,t,n){let i=e;i=u(t)?0===t?e:`(${t}) ${e}`:`(${n.indicator}) ${e}`;const a=document.querySelector("title");a&&(a.childNodes[0].nodeValue=i)}(y.title,y.value,y.options)}})),y.value=e,c(y.options,t||{}),document.title=document.title,!0}return e.clear=function(){l()&&(a()?window.ExperimentalBadge.clear():o()&&navigator.clearExperimentalAppBadge()),B()&&b(p.href),y.value=0,document.title=document.title},e.set=function(e,t={}){switch(t.method){case void 0:case"Badging":if(r(e)&&"Badging"===t.method)break;case"Favicon":if(function(e,t){return m.value=e,c(m.options,t||{}),!!B()&&(w(m.value,m.options),!0)}(e,t.favicon))break;default:E(e,t.title)}},e}({});
